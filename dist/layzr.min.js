/*!
 * Layzr.js 1.4.2 - A small, fast, modern, and dependency-free library for lazy loading.
 * Copyright (c) 2015 Michael Cavalea - http://callmecavs.github.io/layzr.js/
 * License: MIT
 */
!function(t,i){"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?module.exports=i():t.Layzr=i()}(this,function(){"use strict";function t(t){this._ticking=!1,this.config(t),this._srcAttr=i?this._optionsAttrRetina:this._optionsAttr,this._create()}var i=window.devicePixelRatio>1;return t.prototype.config=function(t){t=t||{},this._optionsContainer=document.querySelector(t.container)||window,this._optionsSelector=t.selector||this._optionsSelector||"[data-layzr]",this._optionsAttr=t.attr||this._optionsAttr||"data-layzr",this._optionsAttrRetina=t.retinaAttr||this._optionsAttrRetina||"data-layzr-retina",this._optionsAttrBg=t.bgAttr||this._optionsAttrBg||"data-layzr-bg",this._optionsAttrHidden=t.hiddenAttr||this._optionsAttrHidden||"data-layzr-hidden",this._optionsThreshold=t.threshold||this._optionsThreshold||0,this._optionsCallback=t.callback||this._optionsCallback||null},t.prototype._requestScroll=function(){this._ticking||(requestAnimationFrame(this.update.bind(this)),this._ticking=!0)},t.prototype._getOffset=function(t){return t.getBoundingClientRect().top+window.pageYOffset},t.prototype._getContainerHeight=function(){return this._optionsContainer.innerHeight||this._optionsContainer.offsetHeight},t.prototype._create=function(){var t=this._requestScrollHandler=this._requestScroll.bind(this);this._requestScroll(),this._optionsContainer.addEventListener("scroll",t,!1),this._optionsContainer.addEventListener("resize",t,!1)},t.prototype.destroy=function(){this._requestScrollHandler&&(this._optionsContainer.removeEventListener("scroll",this._requestScrollHandler,!1),this._optionsContainer.removeEventListener("resize",this._requestScrollHandler,!1))},t.prototype._inViewport=function(t){var i;i=this._optionsContainer===window?window.pageYOffset:this._optionsContainer.scrollTop+this._getOffset(this._optionsContainer);var e=i+this._getContainerHeight(),o=this._getOffset(t),n=o+this._getContainerHeight(),r=this._optionsThreshold/100*window.innerHeight;return n>=i-r&&e+r>=o&&!t.hasAttribute(this._optionsAttrHidden)},t.prototype._reveal=function(t){var i=t.getAttribute(this._srcAttr)||t.getAttribute(this._optionsAttr);i&&(t.hasAttribute(this._optionsAttrBg)?t.style.backgroundImage="url("+i+")":t.setAttribute("src",i),"function"==typeof this._optionsCallback&&this._optionsCallback.call(t),t.removeAttribute(this._optionsAttr),t.removeAttribute(this._optionsAttrRetina),t.removeAttribute(this._optionsAttrBg),t.removeAttribute(this._optionsAttrHidden))},t.prototype.query=function(){var t=this._optionsContainer===window?document:this._optionsContainer;return t.querySelectorAll(this._optionsSelector)},t.prototype._visiable=function(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)},t.prototype.update=function(){for(var t=this.query(),i=t.length-1;i>=0;i--){var e=t[i];e.hasAttribute(this._optionsAttr)&&this._visiable(e)&&this._inViewport(e)&&this._reveal(e)}this._ticking=!1},function(){for(var t=0,i=["ms","moz","webkit","o"],e=0;e<i.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[i[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[e]+"CancelAnimationFrame"]||window[i[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i,e){var o=(new Date).getTime(),n=Math.max(0,16-(o-t)),r=window.setTimeout(function(){i(o+n)},n);return t=o+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),t});